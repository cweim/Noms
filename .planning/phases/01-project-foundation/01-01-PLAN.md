---
phase: 01-project-foundation
plan: 01
type: execute
---

<objective>
Establish monorepo directory structure and FastAPI backend foundation.

Purpose: Create the foundational project structure and backend API server that all future phases depend on.
Output: Working monorepo structure with FastAPI backend responding to health check requests.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-project-foundation/DISCOVERY.md
@PRD.md
@UI_SPEC.md

**Tech stack being established:**
- FastAPI (Python) for backend API
- PostgreSQL for database (connection deferred to Phase 2)
- Python venv for environment management
- Simple directory structure (no complex monorepo tools)

**Key decisions from DISCOVERY.md:**
- Use simple directory structure with `backend/` and `mobile/` top-level directories
- Python environment: venv + requirements.txt (not Poetry)
- Start minimal, add tooling as needed
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create monorepo directory structure and root configuration</name>
  <files>.gitignore, README.md</files>
  <action>
Create root .gitignore with comprehensive ignores for both Python and Node.js:
- Python: __pycache__/, *.pyc, venv/, .env
- Node.js: node_modules/, .expo/, dist/
- IDEs: .vscode/, .idea/
- OS: .DS_Store, Thumbs.db

Create root README.md with:
- Project name and description (from PROJECT.md)
- Directory structure explanation (backend/ and mobile/)
- Quick start commands for both stacks
- Links to backend/README.md and mobile/README.md (will be created in subsequent tasks)
- Tech stack overview

Create `backend/` and `mobile/` directories (empty for now, will be populated in subsequent tasks).
  </action>
  <verify>ls -la shows backend/ and mobile/ directories exist, .gitignore and README.md are present</verify>
  <done>Root .gitignore includes Python and Node ignores, README documents project structure and quick start</done>
</task>

<task type="auto">
  <name>Task 2: Initialize FastAPI backend with health check endpoint</name>
  <files>backend/requirements.txt, backend/.env.example, backend/app/main.py, backend/app/__init__.py, backend/README.md</files>
  <action>
Create backend/requirements.txt with:
```
fastapi==0.109.0
uvicorn[standard]==0.27.0
python-dotenv==1.0.0
pydantic==2.5.0
pydantic-settings==2.1.0
```

Create backend/.env.example with placeholder environment variables:
```
# Database (will be configured in Phase 2)
DATABASE_URL=postgresql://user:password@localhost:5432/noms

# Google Places API (will be configured in Phase 5)
GOOGLE_PLACES_API_KEY=your_key_here

# Supabase Auth (will be configured in Phase 4)
SUPABASE_URL=your_url_here
SUPABASE_KEY=your_key_here

# Security
JWT_SECRET=change_this_in_production
```

Create backend/app/__init__.py (empty file for Python package).

Create backend/app/main.py with:
- FastAPI app initialization
- Root GET / endpoint returning {"message": "Noms API", "status": "healthy"}
- GET /health endpoint returning {"status": "ok"}
- CORS middleware configured for development (allow localhost:8081 for Expo)
- Use uvicorn in __main__ block: `uvicorn.run("app.main:app", host="0.0.0.0", port=8000, reload=True)`

Create backend/README.md with:
- Setup instructions: python3 -m venv venv, source venv/bin/activate, pip install -r requirements.txt
- Run instructions: python -m app.main or uvicorn app.main:app --reload
- Environment variables section (copy from .env.example, create .env locally)
- Health check test: curl http://localhost:8000/health

DO NOT create venv directory (user will create locally). DO NOT create .env file (security - use .env.example only).
  </action>
  <verify>cat backend/requirements.txt shows FastAPI dependencies, cat backend/app/main.py shows health endpoints, backend/README.md exists</verify>
  <done>FastAPI app defined with health endpoints, requirements.txt has core dependencies, .env.example documents all env vars, README has setup instructions</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Root .gitignore includes Python and Node.js ignores
- [ ] Root README.md documents project structure
- [ ] backend/ directory exists with app/main.py
- [ ] backend/requirements.txt has FastAPI core dependencies
- [ ] backend/.env.example documents environment variables
- [ ] backend/README.md has setup and run instructions
</verification>

<success_criteria>

- All tasks completed
- Directory structure established (root, backend/, mobile/)
- FastAPI backend defined with health check endpoints
- Documentation in place for backend setup
- No venv or .env committed (gitignored correctly)
</success_criteria>

<output>
After completion, create `.planning/phases/01-project-foundation/01-01-SUMMARY.md`:

# Phase 1 Plan 1: Backend Foundation Summary

**Established monorepo structure and FastAPI backend with health endpoints**

## Accomplishments

- Created monorepo directory structure with backend/ and mobile/ directories
- Added comprehensive .gitignore for Python and Node.js projects
- Initialized FastAPI backend with health check endpoints
- Documented setup and run instructions in backend/README.md
- Created .env.example template for environment configuration

## Files Created/Modified

- `.gitignore` - Combined Python and Node.js ignores
- `README.md` - Root project documentation
- `backend/requirements.txt` - FastAPI dependencies
- `backend/.env.example` - Environment variable template
- `backend/app/__init__.py` - Python package marker
- `backend/app/main.py` - FastAPI app with health endpoints
- `backend/README.md` - Backend setup instructions

## Decisions Made

- Used simple directory structure (no complex monorepo tools)
- Selected venv + requirements.txt for Python environment management
- FastAPI 0.109.0 as stable base version
- CORS configured for Expo default port (8081)

## Issues Encountered

None

## Next Step

Ready for 01-02-PLAN.md (Mobile Foundation)
</output>
