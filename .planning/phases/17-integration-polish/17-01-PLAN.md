---
phase: 17-integration-polish
plan: 01
type: execute
---

<objective>
Verify v1.1 Now flow redesign end-to-end, remove deprecated components, final polish

Purpose: Complete the v1.1 milestone by verifying all new features work together and cleaning up technical debt
Output: Verified v1.1 release with clean codebase, no deprecated components
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md

**Prior phase summaries (v1.1 features):**
@.planning/phases/14-now-page-ux-redesign/14-01-SUMMARY.md
@.planning/phases/15-now-temp-list-system/15-01-SUMMARY.md
@.planning/phases/15-now-temp-list-system/15-02-SUMMARY.md
@.planning/phases/16-place-details-screen/16-01-SUMMARY.md
@.planning/phases/16-place-details-screen/16-02-SUMMARY.md

**Key files for verification:**
@mobile/app/(tabs)/now.tsx
@mobile/components/SwipeableBottomCard.tsx
@mobile/components/TempListOverlay.tsx
@mobile/app/place/[id].tsx

**Deprecated components to remove:**
- mobile/components/RestaurantCard.tsx - replaced by SwipeableBottomCard
- mobile/components/RestaurantPicker.tsx - replaced by inline rendering in now.tsx
- mobile/components/SwipeableCard.tsx - replaced by SwipeableBottomCard
- mobile/components/BottomRestaurantCard.tsx - replaced by SwipeableBottomCard

**v1.1 features to verify:**
1. Bottom card layout with swipe gestures
2. Map centering on current restaurant
3. Selected marker highlighting
4. Swipe up → Consider now temp list
5. Temp list overlay with count badge
6. Place details navigation from Now, Saved, TempList
7. Photo gallery and contact info in details screen
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove deprecated components</name>
  <files>mobile/components/RestaurantCard.tsx, mobile/components/RestaurantPicker.tsx, mobile/components/SwipeableCard.tsx, mobile/components/BottomRestaurantCard.tsx</files>
  <action>
  Delete the following deprecated components that are no longer imported anywhere:

  1. `mobile/components/RestaurantCard.tsx` - Old center-screen card (replaced by SwipeableBottomCard)
  2. `mobile/components/RestaurantPicker.tsx` - Old card stack manager (replaced by inline code in now.tsx)
  3. `mobile/components/SwipeableCard.tsx` - Old swipeable wrapper (replaced by SwipeableBottomCard)
  4. `mobile/components/BottomRestaurantCard.tsx` - Phase 14 card without gestures (replaced by SwipeableBottomCard in Phase 15)

  Use `rm` command to delete each file.
  </action>
  <verify>
  - Files no longer exist: `ls mobile/components/*.tsx` shows only AddJournalEntry, PlaceMarker, SwipeableBottomCard, TempListOverlay
  - TypeScript check passes: `cd mobile && npx tsc --noEmit`
  </verify>
  <done>4 deprecated component files deleted, no TypeScript errors</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>v1.1 Now Flow Redesign complete - verifying all features work together</what-built>
  <how-to-verify>
  Start both servers:
  1. Backend: `cd backend && source venv/bin/activate && uvicorn app.main:app --host 0.0.0.0 --reload`
  2. Mobile: `cd mobile && npx expo start`

  Test the Now flow:
  3. Open app on device/simulator
  4. Navigate to Now tab - should see map with bottom card
  5. Verify map centers on current restaurant with highlighted marker
  6. Skip (X button) - advances to next restaurant, map animates
  7. Save (heart button) - saves place and advances
  8. **Swipe up on card** - should add to "Consider now" list
  9. Orange badge should appear showing "1 considering"
  10. Add 2-3 more places via swipe up
  11. Tap the badge - overlay should slide up
  12. Verify you can remove items (X) and select a place

  Test place details navigation:
  13. From Now card: **Tap the photo/info area** (not buttons) - should open details screen
  14. Verify details screen shows: photo gallery, name, rating, address, phone, hours
  15. Verify back button returns to Now screen
  16. From temp list overlay: Tap info icon (ℹ️) - should open details
  17. From Saved tab: Tap any saved place - should open details

  Cross-platform (if possible):
  18. Test on both iOS and Android if available
  </how-to-verify>
  <resume-signal>Type "approved" if all flows work, or describe any issues found</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Update STATE.md and mark milestone complete</name>
  <files>.planning/STATE.md, .planning/ROADMAP.md</files>
  <action>
  Update project state files:

  1. In STATE.md:
     - Update "Current Position" to Phase 17 complete
     - Update progress bar to 31/31 plans complete (v1.1: 7/7)
     - Add session note that v1.1 milestone is complete

  2. In ROADMAP.md:
     - Mark Phase 17 row as Complete with today's date
     - Update milestone status to show v1.1 complete
  </action>
  <verify>
  - STATE.md shows Phase 17 complete
  - ROADMAP.md shows all v1.1 phases complete
  </verify>
  <done>Project state updated, v1.1 milestone marked complete</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] TypeScript check passes: `cd mobile && npx tsc --noEmit`
- [ ] No deprecated components remain
- [ ] Now flow works: bottom card, gestures, temp list, navigation
- [ ] Place details accessible from all entry points
- [ ] STATE.md and ROADMAP.md updated
</verification>

<success_criteria>
- All deprecated components removed
- v1.1 Now flow verified end-to-end
- Place details navigation works from all screens
- Project state reflects milestone completion
- Phase 17 complete, v1.1 milestone complete
</success_criteria>

<output>
After completion, create `.planning/phases/17-integration-polish/17-01-SUMMARY.md`
</output>
