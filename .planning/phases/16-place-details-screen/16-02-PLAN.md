---
phase: 16-place-details-screen
plan: 02
type: execute
---

<objective>
Integrate Place Details navigation from Now and Saved screens

Purpose: Connect the PlaceDetailsScreen to the app's main flows so users can tap to view details.
Output: Tappable cards/items that navigate to place details from Now and Saved screens
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-place-details-screen/16-01-SUMMARY.md

**Key files:**
@mobile/app/(tabs)/now.tsx
@mobile/app/(tabs)/saved.tsx
@mobile/components/SwipeableBottomCard.tsx
@mobile/components/TempListOverlay.tsx

**Current state (after 16-01):**
- PlaceDetailsScreen exists at /place/[id]
- Can navigate via router.push(`/place/${google_place_id}`)

**Navigation patterns:**
- Expo Router: `import { router } from 'expo-router'`
- Push to details: `router.push(`/place/${place.google_place_id}`)`
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add onPress navigation to SwipeableBottomCard</name>
  <files>mobile/components/SwipeableBottomCard.tsx, mobile/app/(tabs)/now.tsx</files>
  <action>
  Make the card content (photo + info) tappable to navigate to details:

  1. In SwipeableBottomCard.tsx:
     - Add `onPress` prop to interface: `onPress?: (place: Place) => void`
     - Wrap the photo + info section (NOT the buttons) in TouchableOpacity
     - Call `onPress?.(place)` when tapped
     - Ensure swipe gestures still work (TouchableOpacity should be inside the animated view)

  2. In now.tsx:
     - Import `router` from 'expo-router'
     - Add handler: `const handleCardPress = (place: Place) => router.push(\`/place/${place.google_place_id}\`);`
     - Pass to SwipeableBottomCard: `onPress={handleCardPress}`

  Layout adjustment: The touchable area should be the left portion (photo + info), NOT the skip/save buttons.
  ```
  ┌─────────────────────────────────────────────────┐
  │ ┌────────────────────────────┐ ┌─────────────┐ │
  │ │    TOUCHABLE (→ details)   │ │  buttons    │ │
  │ │  [Photo] [Name, Rating]    │ │  [X] [♡]    │ │
  │ └────────────────────────────┘ └─────────────┘ │
  └─────────────────────────────────────────────────┘
  ```
  </action>
  <verify>Tapping card photo/info area navigates to details screen</verify>
  <done>SwipeableBottomCard has onPress prop, Now screen navigates to details on tap</done>
</task>

<task type="auto">
  <name>Task 2: Add navigation from TempListOverlay items</name>
  <files>mobile/components/TempListOverlay.tsx, mobile/app/(tabs)/now.tsx</files>
  <action>
  Modify TempListOverlay to allow viewing details before selecting:

  1. In TempListOverlay.tsx:
     - Add `onViewDetails` prop: `onViewDetails?: (place: Place) => void`
     - Add an info icon button (ℹ️) to each place item row
     - Tapping info icon calls `onViewDetails?.(place)`
     - Keep existing row tap → onSelect behavior
     - Layout:
       ```
       [Photo] [Name, Rating] [ℹ️] [X]
                               ^info  ^remove
       ```

  2. In now.tsx:
     - Add handler: `const handleViewDetails = (place: Place) => router.push(\`/place/${place.google_place_id}\`);`
     - Pass to TempListOverlay: `onViewDetails={handleViewDetails}`
  </action>
  <verify>Tapping info icon in overlay navigates to details screen</verify>
  <done>TempListOverlay has info button that navigates to details</done>
</task>

<task type="auto">
  <name>Task 3: Add navigation from Saved screen items</name>
  <files>mobile/app/(tabs)/saved.tsx</files>
  <action>
  Make saved places list items tappable to view details:

  1. Read current saved.tsx implementation to understand structure
  2. Add `router` import from 'expo-router'
  3. Make each saved place item tappable:
     - Wrap item content in TouchableOpacity
     - onPress navigates to `/place/${savedPlace.google_place_id}`
  4. Keep any existing delete/unsave functionality accessible (if present)

  Note: Saved places have google_place_id field from the SavedPlace interface.
  </action>
  <verify>Tapping saved place item navigates to details screen</verify>
  <done>Saved screen items navigate to details on tap</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] TypeScript check passes: `cd mobile && npx tsc --noEmit`
- [ ] Tapping card in Now screen → opens details
- [ ] Tapping info icon in temp list → opens details
- [ ] Tapping item in Saved screen → opens details
- [ ] Swipe gestures in Now screen still work correctly
- [ ] Skip/Save buttons in Now screen still work correctly
</verification>

<success_criteria>
- Place details accessible from Now screen (card tap)
- Place details accessible from temp list overlay (info button)
- Place details accessible from Saved screen (item tap)
- All existing functionality preserved (swipes, buttons)
- Phase 16 complete
</success_criteria>

<output>
After completion, create `.planning/phases/16-place-details-screen/16-02-SUMMARY.md`
</output>
